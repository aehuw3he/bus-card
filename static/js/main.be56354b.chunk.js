(this["webpackJsonpbus-card"]=this["webpackJsonpbus-card"]||[]).push([[0],[,,,,,,,function(e,t,n){e.exports=n.p+"static/media/logo.2260b52a.png"},,,,,function(e,t,n){e.exports=n(22)},,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(9),o=n.n(s),r=(n(17),n(6)),i=n.n(r),u=n(10),l=n(11),m=n(1),h=n(2),f=n(4),b=n(3),d=n(5),p=(n(19),n(20),function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.busObj,t=e.EstimateTime,n=e.StopName,a=e.StopSequence;return c.a.createElement("div",{className:"card-container ".concat(t/60<3?"active":null)},c.a.createElement("div",{className:"bus-info"},c.a.createElement("h1",null,"\u7ad9\u540d : "+n.Zh_tw),c.a.createElement("h1",null,"\u9810\u4f30\u5230\u9054 : "+t/60+" \u5206\u9418"),c.a.createElement("h1",null,"\u7ad9\u724c\u9806\u5e8f "+a)))}}]),t}(a.Component)),v=(n(21),n(7)),E=n.n(v),g=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.busData,n=e.seconds,a=e.handleSearchText,s=e.getBusDetail,o=Object.assign({},t[0]),r=Object.assign({},o.RouteName),i=t.filter((function(e){return 1!==e.Direction}));i.sort((function(e,t){return e.StopSequence>t.StopSequence?1:-1}));var u=t.filter((function(e){return 0!==e.Direction}));return u.sort((function(e,t){return e.StopSequence>t.StopSequence?1:-1})),c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{className:"nav-container"},c.a.createElement("h1",{className:"font-titile"},"\u516c\u8eca\u8def\u7dda: ",r.Zh_tw," "),c.a.createElement("div",{className:"logo-copyright"},c.a.createElement("h1",null,"\u8cc7\u6599\u4ecb\u63a5\u300c\u4ea4\u901a\u90e8PTX\u5e73\u81fa\u300d&\u5e73\u81fa\u6a19\u7ae0"," ",c.a.createElement("a",{href:E.a},"\u3010Logo\u4e0b\u8f09\u3011")),c.a.createElement("img",{src:E.a,alt:"",height:"50"})),c.a.createElement("div",{className:"interact-box"},c.a.createElement("input",{className:"stopname",type:"text",placeholder:"\u8acb\u8f38\u5165\u7ad9\u724c\u540d\u7a31\u9032\u884c\u904e\u6ffe",onChange:a}),c.a.createElement("div",{className:"time-update"},c.a.createElement("h1",null,n,"\u79d2\u5f8c\u66f4\u65b0"),c.a.createElement("input",{style:{marginLeft:20},type:"button",value:"\u7acb\u523b\u66f4\u65b0",onClick:s})),c.a.createElement("div",{className:"annotation"},c.a.createElement("div",{className:"notice"}),c.a.createElement("h3",{className:"font-notice"},"\u7d05\u8272\u4ee3\u8868\u516c\u8eca\u5373\u5c07\u62b5\u9054")))),c.a.createElement("h1",{className:"font-go-back"},"\u53bb\u7a0b"),c.a.createElement("section",{className:"bus-outbound"},i.map((function(e,t){return c.a.createElement(p,{key:t,busObj:e})}))),c.a.createElement("h1",{className:"font-go-back"},"\u56de\u7a0b"),c.a.createElement("section",{className:"bus-inbound"},u.map((function(e,t){return c.a.createElement(p,{key:t,busObj:e})}))))}}]),t}(a.Component),j=!1,O=[],S="",D={},N=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(f.a)(this,Object(b.a)(t).call(this,e))).handleSearchText=function(e){S=e.target.value,j||(j=!0,O=Object(l.a)(n.state.busData)),j&&""===S?(j=!1,n.setState({busData:O})):(D=O.filter((function(e){return e.StopName.Zh_tw.includes(S)})),n.setState({busData:D}))},n.state={seconds:5,busData:[],url:"./51.json"},n}return Object(d.a)(t,e),Object(h.a)(t,[{key:"countDown",value:function(){0===this.state.seconds?(this.getBusDetail(),this.setState({seconds:5})):this.setState({seconds:this.state.seconds-1})}},{key:"getBusDetail",value:function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch(this.state.url).then((function(e){return e.json()})).then(function(e){D=e.filter((function(e){return e.StopName.Zh_tw.includes(S)})),this.setState({busData:D,seconds:5})}.bind(this));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;setInterval((function(){e.countDown()}),1e3),this.getBusDetail()}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return c.a.createElement(g,{busData:this.state.busData,seconds:this.state.seconds,handleSearchText:this.handleSearchText,getBusDetail:this.getBusDetail.bind(this)})}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[12,1,2]]]);
//# sourceMappingURL=main.be56354b.chunk.js.map